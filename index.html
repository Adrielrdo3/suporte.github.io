<!DOCTYPE html>
<html>
<head>
<title>Screen Sharing Site</title>
</head>
<body onload="shareScreen()">
<h1>Screen Sharing Site</h1>
<p>This site allows you to share your screen with others.</p>
<div id="shared-screen"></div>
<script>
function shareScreen() {
  // Create a new RTCPeerConnection.
  var pc = new RTCPeerConnection();

  // Get the user's screen share permission.
  navigator.mediaDevices.getUserMedia({
    audio: false,
    video: {
      mediaSource: "screen"
    }
  }).then(function(stream) {
    // Add the user's screen stream to the connection.
    pc.addStream(stream);

    // Create a new RTCSessionDescription.
    var offer = pc.createOffer();

    // Set the RTCSessionDescription.
    pc.setLocalDescription(offer);

    // Send the RTCSessionDescription to the other party.
    pc.createOffer().then(function(offer) {
      pc.setLocalDescription(offer);
      pc.send(offer);
    });

    // Listen for messages from the other party.
    pc.onmessage = function(event) {
      // Get the RTCSessionDescription from the message.
      var sdp = event.data;

      // Set the RTCSessionDescription.
      pc.setRemoteDescription(sdp);

      // Add the other party's screen stream to the connection.
      pc.addStream(sdp.streams[0]);

      // Display the other party's screen on the page.
      var video = document.getElementById("shared-screen");
      video.srcObject = sdp.streams[0];
    };
  });
}
</script>
</body>
</html>
